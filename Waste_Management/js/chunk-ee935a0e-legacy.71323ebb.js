(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee935a0e"],{1694:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",[r("PageHeader",{attrs:{items:e.items}}),r("div",{staticClass:"animated"},[r("b-card",{staticClass:"mt-10 ml-10 mr-10 mx-auto",attrs:{header:"Edit Servicerequest Equipment"}},[r("div",{staticClass:"mt-1"},[r("div",{staticClass:"mx-xl-5"},[r("div",{staticClass:"card-body"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.create(t)}}},[r("b-row",[r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("CONTROL NO")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.controlno,expression:"controlno"}],staticClass:"form-control",attrs:{name:"body",placeholder:"Enter Contol No"},domProps:{value:e.controlno},on:{input:function(t){t.target.composing||(e.controlno=t.target.value)}}})]),r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Trip Date")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.tripDate,expression:"tripDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.tripDate},on:{input:function(t){t.target.composing||(e.tripDate=t.target.value)}}})])],1),r("b-row",[r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Dumping Location")]),r("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1),r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Hauler")]),r("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1)],1),r("b-row",[r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Equipment No")]),r("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1),r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Model")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.trucktype,expression:"trucktype"}],staticClass:"form-control",attrs:{name:"trucktype",readonly:"",placeholder:"Enter Model"},domProps:{value:e.trucktype},on:{input:function(t){t.target.composing||(e.trucktype=t.target.value)}}})])],1),r("b-row",{staticClass:"mt-3"},[r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Operator")]),r("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1),r("b-col",[r("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Job Type")]),r("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1)],1),r("br"),r("button",{staticClass:"btn btn-custome float-right btn-secondary mb-3",attrs:{type:"submit"}},[e._v("Submit")])],1)])])])])],1)],1)},s=[],i=(r("96cf"),r("1da1")),n=r("ade3"),o=r("2b0e"),c=r("c2a4"),u=r("444f"),l=r("2579"),p=(r("323e"),r("fea2")),m=r("859b"),d=r("8e5f"),h=r.n(d),v=r("c1df"),f=r.n(v),g=r("6bf2");o["default"].component("multiselect",h.a);var b={page:{title:"Edit Servicerequest Equipment",meta:[{name:"description",content:c.description}]},data:function(){var e;return e={inputs:[{name:""}],items:[{text:"Servicerequests",href:"/"},{text:"Servicerequest Trucks",href:"#/Servicerequest/Equipment"},{text:"Edit SR Equipment",active:!0}],areadata:[],areaarray:"",routedate:[],routearray:[],emp:[],controlno:"",area:"",route:"",driver:"",contractor:"",collector:null,lgu:"",plate:"",plates:[],body:"",tripDate:"",trucktype:"",driverid:"",startTime:"",drivers:[],helpers:[],vehicles:[],servingAreas:[]},Object(n["a"])(e,"route",""),Object(n["a"])(e,"driver",""),Object(n["a"])(e,"helper",null),Object(n["a"])(e,"servingRoutes",[]),Object(n["a"])(e,"driverList",[]),Object(n["a"])(e,"hauler",""),Object(n["a"])(e,"haulerList",[]),Object(n["a"])(e,"contractorList",[]),Object(n["a"])(e,"paleroList",[]),Object(n["a"])(e,"garbage",null),Object(n["a"])(e,"lgu",null),e},components:{Layout:u["a"],PageHeader:l["a"],VueTimepicker:p["a"],Multiselect:h.a,datetime:m["Datetime"]},computed:{getUserDetails:function(){return this.$store.getters["auth/loggedInDetails"]}},mounted:function(){this.tripDate=f()(new Date).format("DD-MM-YYYY"),this.startTime=f()(new Date).format("DD-MM-YYYY hh:mm A"),console.log(this.tripDate+" "+this.startTime),this.areas(),this.routes(),this.getUsers(),this.employeedata(),this.getvehicles()},methods:{getRoutes:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.areadata.map(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.area!==t.areaName){e.next=7;break}return console.log(t),r.areaarray=t,e.next=5,Object(g["mc"])(t.id);case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Object(g["mc"])(id);case 4:t=e.sent,console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getvehicles:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["Xc"])();case 2:t=e.sent,this.vehicles=t.data.response.vehicles,this.vehicles.map((function(e){r.plates.push(e.plateNo)})),console.log(this.plates);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getroutes:function(){var e=this;this.routedata.map((function(t){e.route===t.routeName&&e.routearray.push(t)}))},getareas:function(){var e=this;this.areadata.map((function(t){e.area===t.areaName&&(e.areaarray=t)}))},getid:function(){var e=this;console.log("haiiiiii"),this.emp.map((function(t){e.driver===t.userName&&(e.driverid=t.id)}))},employeedata:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["cc"])();case 3:t=e.sent,this.emp=t.data.response.result,console.log(this.emp),this.emp.map((function(e){"DRIVER"==e.type&&r.drivers.push(e.userName),"HELPER"==e.type&&r.helpers.push(e.userName)})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),areas:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["a"])();case 3:t=e.sent,this.areadata=t.data.response.areaMaster,this.areadata.map((function(e){null!=e.areaName&&r.servingAreas.push(e.areaName)})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:console.log(this.servingAreas);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),routes:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["Oc"])();case 3:t=e.sent,console.log(t),this.routedata=t.data.response.RouteMaster,this.routedata.map((function(e){null!=e.routeName&&r.servingRoutes.push(e.routeName)})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getRouteObject:function(e){this.routedata.map((function(t){if(e==t.routeName)return console.log(t),t}))},create:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=f()(this.startTime).format("YYYY-MM-DDThh:mm:SS+00:00"),console.log(t),r=Object.assign({},r,this.areaarray),a={controlNo:this.controlno,tripDate:this.tripDate,lgu:this.lgu,bodyNo:this.body,plateNo:this.plate,truckType:this.trucktype,collectionStartTime:this.startTime,servingArea:r,servingRoute:{id:this.routearray.id,code:this.routearray.code,routeName:this.routearray.routeName,routeType:this.routearray.routeType,supervisor:this.routearray.supervisor,route_distance:this.routearray.route_distance,areaId:this.routearray.areaId,areaName:this.areaarray.areaName,isDeleted:!1,routeRoads:[],createdDate:this.routearray.createdDate,createdBy:"",modifiedDate:this.routearray.modifiedDate,modifiedBy:"",description:this.routearray.description},helperId:199,helperName:null,driverId:this.driverid,driverName:this.driver,contractorDispatcherName:null,contractorDispatcherId:null,contractorDispatcherVerified:null,volumeCheckerName:null,volumeCheckerId:null,volumeCheckerVerified:null,volumeCheckerMeasuredVolume:null,volumeCheckerTotalKmServed:null,isDeleted:!1,status:"INITIATED",createdBy:this.getUserDetails.user.username,createdDate:this.tripDate,modifiedBy:this.getUserDetails.user.username,modifiedDate:this.tripDate},e.next=7,a;case 7:s=e.sent,s&&(this.$swal({group:"alert",type:"success",text:"Incoming Trip Created",duration:5e3}),this.$router.push({path:"/Trips/IncomingTrips"})),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),getTruckType:function(){var e=this;this.vehicles.map((function(t){t.plateNo==e.plate&&(e.trucktype=t.vehicleType.code,e.body=t.vehicleNo)}))},add:function(e){this.inputs.length<=4&&this.inputs.push({name:""})},remove:function(e){this.inputs.splice(e,1)}}},y=b,x=(r("60bc"),r("c6c1"),r("4a69"),r("2877")),k=Object(x["a"])(y,a,s,!1,null,"92bdc12c",null);t["default"]=k.exports},"4a69":function(e,t,r){"use strict";var a=r("e020"),s=r.n(a);s.a},5253:function(e,t,r){},c6c1:function(e,t,r){"use strict";var a=r("5253"),s=r.n(a);s.a},e020:function(e,t,r){}}]);
//# sourceMappingURL=chunk-ee935a0e-legacy.71323ebb.js.map