(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b219f1e"],{"054f":function(e,t,a){},"32bd":function(e,t,a){},"3cf4":function(e,t,a){"use strict";var r=a("054f"),s=a.n(r);s.a},"5a78":function(e,t,a){"use strict";var r=a("32bd"),s=a.n(r);s.a},cfd0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("PageHeader"),a("div",{staticClass:"animated"},[a("b-card",{staticClass:"mt-10 ml-10 mr-10 mx-auto",attrs:{header:"Create Incoming Trip"}},[a("div",{staticClass:"mt-1"},[a("div",{staticClass:"mx-xl-5"},[a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.create(t)}}},[a("b-row",[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("LGU")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Baranggay")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.servingAreas},on:{change:e.getRoutes},model:{value:e.area,callback:function(t){e.area="string"===typeof t?t.trim():t},expression:"area"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Serving Route")]),a("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},on:{input:e.getRouteCode},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("CONTROL NO")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.controlno,expression:"controlno"}],staticClass:"form-control",attrs:{name:"body"},domProps:{value:e.controlno},on:{input:function(t){t.target.composing||(e.controlno=t.target.value)}}})])],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Trip Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})]),a("b-col",{staticClass:"ml-3"},[a("label",{staticClass:"grey-text font-weight-dark mr-2",attrs:{for:"defaultFormCardtextEx"}},[e._v("Trip Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"time"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.time},on:{input:function(t){t.target.composing||(e.time=t.target.value)}}})])],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Hauler")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.haulerListNames},on:{change:e.getVehiclesDriversHelpers},model:{value:e.hauler,callback:function(t){e.hauler=t},expression:"hauler"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Plate No")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.plates},on:{change:e.getTruckType},model:{value:e.plate,callback:function(t){e.plate=t},expression:"plate"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",{},[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Truck Type")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.trucktype,expression:"trucktype"}],staticClass:"form-control",attrs:{name:"trucktype",disabled:"",readonly:""},domProps:{value:e.trucktype},on:{input:function(t){t.target.composing||(e.trucktype=t.target.value)}}})]),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Body")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.body,expression:"body"}],staticClass:"form-control",attrs:{name:"body",readonly:"",disabled:""},domProps:{value:e.body},on:{input:function(t){t.target.composing||(e.body=t.target.value)}}})])],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Driver Name")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.drivers},on:{change:e.getid},model:{value:e.driver,callback:function(t){e.driver="string"===typeof t?t.trim():t},expression:"driver"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Helper")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.helpers},on:{change:e.gethelperid},model:{value:e.helper,callback:function(t){e.helper="string"===typeof t?t.trim():t},expression:"helper"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Garbage Collectors")]),a("multiselect",{attrs:{multiple:!0,options:e.collectorListNames},on:{input:e.getgarbage},model:{value:e.collector,callback:function(t){e.collector=t},expression:"collector"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Volume Checker")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.checkerListNames},on:{change:e.getCheckerId},model:{value:e.checker,callback:function(t){e.checker="string"===typeof t?t.trim():t},expression:"checker"}})],1)],1),a("button",{staticClass:"btn btn-custome ml-4 btn-secondary mb-3 float-right mr-2 mt-5",attrs:{type:"submit"}},[e._v("Create")])],1)])])])])],1)],1)},s=[],i=(a("96cf"),a("1da1")),n=a("ade3"),o=a("2b0e"),c=a("c2a4"),l=a("444f"),u=a("2579"),h=(a("323e"),a("fea2")),p=a("859b"),d=a("8e5f"),m=a.n(d),g=a("c1df"),f=a.n(g),v=a("6bf2");o["default"].component("multiselect",m.a);var b={page:{title:"Trip Incoming Details",meta:[{name:"description",content:c.description}]},data:function(){var e;return e={tripdata:[],inputs:[{name:""}],dispatcherid:"",dispatchername:"",username:"",areadata:[],helperdata:[],areaarray:"",routedate:[],routearray:[],emp:[],code:null,controlno:"",area:"",loginlguid:"",route:"",driver:"",contractor:"",collector:"",lgu:"lgu1",plate:"",plates:[],body:"",tripDate:"",trucktype:"",driverid:"",helperid:"",haulerId:"",checkerId:"",startTime:"",areaid:"",drivers:[],helpers:[],vehicles:[],servingAreas:[]},Object(n["a"])(e,"driver",""),Object(n["a"])(e,"helper",null),Object(n["a"])(e,"servingRoutes",[]),Object(n["a"])(e,"driverList",[]),Object(n["a"])(e,"checkerList",[]),Object(n["a"])(e,"checkerListNames",[]),Object(n["a"])(e,"checker",""),Object(n["a"])(e,"hauler",""),Object(n["a"])(e,"haulerid",""),Object(n["a"])(e,"haulerCode",""),Object(n["a"])(e,"userdata",[]),Object(n["a"])(e,"haulerList",[]),Object(n["a"])(e,"haulerListNames",[]),Object(n["a"])(e,"collectorList",[]),Object(n["a"])(e,"collectorListNames",[]),Object(n["a"])(e,"garbagearray",[]),Object(n["a"])(e,"paleroList",[]),Object(n["a"])(e,"garbage",null),Object(n["a"])(e,"areaId",null),Object(n["a"])(e,"routeId",null),Object(n["a"])(e,"garbageCollectors",[]),Object(n["a"])(e,"driverdata",[]),Object(n["a"])(e,"brgy",{}),Object(n["a"])(e,"routeCodes",[]),Object(n["a"])(e,"loginDetails",{}),Object(n["a"])(e,"routearray",[]),Object(n["a"])(e,"date",""),Object(n["a"])(e,"time",""),e},components:{Layout:l["a"],PageHeader:u["a"],VueTimepicker:h["a"],Multiselect:m.a,datetime:p["Datetime"]},computed:{getUserDetails:function(){return this.$store.getters["auth/loggedInDetails"]}},mounted:function(){this.date=f()(new Date).format("DD/MM/YYYY"),this.time=f()(new Date).format("HH:mm:ss"),this.tripDate=new Date,this.startTime=new Date,console.log(this.tripDate+" "+this.startTime),this.getLgu(),this.getBaraggay(),this.getvolume(),this.getname(),this.getUsers(),console.log(JSON.parse(localStorage.getItem("auth.currentUser")))},methods:{getLgu:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("auth.currentUser")),this.loginlguid=t.lguemployee.lguId,this.dispatcherid=t.lguemployee.id,this.dispatchername=t.lguemployee.firstName,e.next=6,Object(v["lc"])(this.loginlguid);case 6:a=e.sent,this.loginDetails={lguEmployeeCode:t.lguemployee.code,id:t.lguemployee.lguid,name:a.data.response.result.lguName},console.log(this.loginDetails);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBaraggay:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v["hc"])(this.loginlguid);case 3:t=e.sent,this.areadata=t.data.response.result,this.areadata.map((function(e){a.servingAreas.push(e.areaName)})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getvolume:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="VOLUME_CHECKER",e.next=4,Object(v["yc"])(this.loginlguid,t);case 4:a=e.sent,this.checkerList=a.data.response.result,this.checkerList.map((function(e){r.checkerListNames.push(e.userName)})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getname:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v["wc"])(this.loginlguid);case 3:t=e.sent,this.username=t.data.response.result.contactFirstName,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getUsers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getVehiclesDriversHelpers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,i,n,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=0;case 2:if(!(t<this.haulerList.length)){e.next=25;break}if(this.hauler!==this.haulerList[t].haulerName){e.next=22;break}return this.haulerid=this.haulerList[t].id,e.next=7,Object(v["pc"])(this.haulerList[t].id);case 7:return a=e.sent,this.vehicles=a.data.response.result,this.vehicles.map((function(e){o.plates.push(e.plateNo)})),r="DRIVER",e.next=13,Object(v["ic"])(this.haulerList[t].id,r);case 13:return s=e.sent,this.driverdata=s.data.response.result,this.driverdata.map((function(e){o.drivers.push(e.firstName)})),i="HELPER",e.next=19,Object(v["jc"])(this.haulerList[t].id,i);case 19:n=e.sent,this.helperdata=n.data.response.result,this.helperdata.map((function(e){o.helpers.push(e.firstName)}));case 22:t++,e.next=2;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](0),console.log(e.t0);case 30:case"end":return e.stop()}}),e,this,[[0,27]])})));function t(){return e.apply(this,arguments)}return t}(),getRoutes:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,i,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=0;case 2:if(!(t<this.areadata.length)){e.next=25;break}if(this.area!==this.areadata[t].areaName){e.next=22;break}return this.areaid=this.areadata[t].id,e.next=7,Object(v["Bc"])();case 7:return a=e.sent,this.haulerList=a.data.response.HaulerMaster,this.haulerList.map((function(e){n.haulerListNames.push(e.haulerName)})),r="PALERO",e.next=13,Object(v["sc"])(this.areadata[t].id,r);case 13:return s=e.sent,this.collectorList=s.data.response.result,console.log(this.collectorList),this.collectorList.map((function(e){n.collectorListNames.push(e.userName)})),e.next=19,Object(v["mc"])(this.areadata[t].id);case 19:i=e.sent,this.routedata=i.data.response.result.routeMaster,this.routedata.length>0&&this.routedata.map((function(e){null!=e.routeName&&n.servingRoutes.push(e.routeName)}));case 22:t++,e.next=2;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](0),console.log(e.t0);case 30:case"end":return e.stop()}}),e,this,[[0,27]])})));function t(){return e.apply(this,arguments)}return t}(),getvehicles:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(v["Xc"])();case 2:t=e.sent,this.vehicles=t.data.response.vehicles,this.vehicles.map((function(e){a.plates.push(e.plateNo)})),console.log(this.plates);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getareas:function(){var e=this;this.areadata.map((function(t){e.area===t.areaName&&(e.areaarray=t)}))},getid:function(){var e=this;console.log("haiiiiii"),this.driverdata.map((function(t){e.driver===t.firstName&&(e.driverid=t.id)}))},gethelperid:function(){var e=this;this.helperdata.map((function(t){e.helper==t.firstName&&(console.log(t),e.helperid=t.id)})),console.log(this.helperid)},getGarbageCollectors:function(){var e=this;this.collector.map((function(t){e.collectorList.map((function(a){if(t==a.userName){var r={employeeCode:a.code};e.garbageCollectors.push(r)}}))}))},gethaulerid:function(){var e=this;this.haulerList.map((function(t){e.hauler==t.userName&&(e.haulerId=t.id)}))},getCheckerId:function(){var e=this;this.checkerList.map((function(t){e.checker==t.userName&&(e.checkerId=t.id)}))},employeedata:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v["zc"])();case 3:t=e.sent,this.emp=t.data.response.HaulerEmployees,console.log(this.emp),this.emp.map((function(e){null!=e.haulerId&&("DRIVER"==e.type&&e.haulerId.id==a.haulerId&&a.drivers.push(e.userName),"HELPER"==e.type&&e.haulerId.id==a.haulerId&&a.helpers.push(e.userName))})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),areas:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Areamasters();case 3:t=e.sent,this.areadata=t.data.response.areaMaster,this.areadata.map((function(e){null!=e.areaName&&a.servingAreas.push(e.areaName)})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:console.log(this.servingAreas);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getRouteCode:function(){var e=this;console.log("hai",this.route),this.routearray=[];for(var t=0;t<this.route.length;t++)this.routedata.map((function(a){e.route[t]===a.routeName&&(e.routearray.push({routeId:a.id}),console.log("routedata",e.routearray))}))},getgarbage:function(){var e=this;console.log("hai",this.collector),this.garbagearray=[];for(var t=0;t<this.collector.length;t++)this.collectorList.map((function(a){e.collector[t]===a.userName&&(e.garbagearray.push({garbageCollectorId:a.id,garbageCollectorName:a.userName}),console.log("routedata",e.garbagearray))}))},routes:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,routemaster();case 3:t=e.sent,console.log(t),this.routedata=t.data.response.RouteMaster,this.routedata.map((function(e){null!=e.routeName&&a.servingRoutes.push(e.routeName)})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getRouteObject:function(e){this.routedata.map((function(t){if(e==t.routeName)return console.log(t),t}))},create:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.route.map((function(e){r.routedata.map((function(t){if(e==t.routeName){var a={code:t.code};r.routeCodes.push(a)}}))})),this.getGarbageCollectors(),this.areadata.areaName==this.area&&(this.areaId=this.areadata.code),t={controlNo:this.controlno,tripDate:this.tripDate,lguId:this.loginlguid,haulerid:this.haulerid,truckBodyNo:this.body,truckplateNo:this.plate,truckType:this.trucktype,tripStartTime:this.startTime,tripEndTime:"",baranggayId:this.areaid,helperId:this.helperid,helperName:this.helper,driverId:this.driverid,driverName:this.driver,contractorDispatcherId:this.dispatcherid,contractorDispatcherName:this.dispatchername,volumeCheckerName:this.checker,volumeCheckerId:this.checkerId,volumeCheckerMeasuredVolume:"",volumeCheckerTotalKmServed:"",tripIncomingAreaRoute:this.routearray,garbageCollector:this.garbagearray},e.next=7,Object(v["f"])(t);case 7:a=e.sent,this.tripdata=a.data.response.result,console.log("tripdata",this.tripdata),a&&(this.$swal({group:"alert",type:"success",text:"Incoming Trip Created",duration:5e3}),this.$router.push({name:"Viewtripincoming",params:this.tripdata})),this.$router.push({name:"Viewtripincoming",params:this.tripdata}),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}(),getTruckType:function(){var e=this;this.vehicles.map((function(t){t.plateNo==e.plate&&(e.code=t.code,e.trucktype=t.vehicleType.code,e.body=t.vehicleNo)}))},add:function(e){this.inputs.length<=4&&this.inputs.push({name:""})},remove:function(e){this.inputs.splice(e,1)}}},x=b,y=(a("60bc"),a("5a78"),a("3cf4"),a("2877")),k=Object(y["a"])(x,r,s,!1,null,"7fabd743",null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-3b219f1e-legacy.2ea8f3f9.js.map