(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb09ca22"],{7809:function(e,t,i){"use strict";var a=i("ced8"),r=i.n(a);r.a},c999:function(e,t,i){},ced8:function(e,t,i){},eeeb:function(e,t,i){"use strict";i.r(t);var a,r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Layout",[i("PageHeader",{attrs:{items:e.items}}),i("div",{staticClass:"animated"},[i("b-card",{staticClass:"mt-10 ml-10 mr-10 mx-auto",attrs:{header:"Edit Servicerequest Equipment"}},[i("div",{staticClass:"mt-1"},[i("div",{staticClass:"mx-xl-5"},[i("div",{staticClass:"card-body"},[i("form",{on:{submit:function(t){return t.preventDefault(),e.update()}}},[i("br"),e._l(e.inputs,(function(t,a){return i("b-row",{key:a},[i("b-col",[i("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("\n                    Time In")]),i("datetime",{attrs:{format:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"},type:"datetime",placeholder:"SELECT Time"},model:{value:t.timeIn,callback:function(i){e.$set(t,"timeIn",i)},expression:"input.timeIn"}})],1),i("b-col",[i("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("\n                    Time Out")]),i("datetime",{attrs:{format:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"},type:"datetime",placeholder:"SELECT Time"},model:{value:t.timeOut,callback:function(i){e.$set(t,"timeOut",i)},expression:"input.timeOut"}})],1),i("b-col",[i("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("\n                    Duration")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"input.duration"}],staticClass:"form-control",attrs:{id:"defaultFormCardtextEx",type:"text",placeholder:"Enter duration"},domProps:{value:t.duration},on:{input:function(i){i.target.composing||e.$set(t,"duration",i.target.value)}}})]),i("b-col",[i("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("\n                    Buckets Loaded")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bucketLoaded,expression:"input.bucketLoaded"}],staticClass:"form-control",attrs:{id:"defaultFormCardtextEx",type:"text",placeholder:"Enter bucketsloaded"},domProps:{value:t.bucketLoaded},on:{input:function(i){i.target.composing||e.$set(t,"bucketLoaded",i.target.value)}}})]),i("b-col",[i("span",[i("i",{directives:[{name:"show",rawName:"v-show",value:a||!a&&e.inputs.length>1,expression:"k || (!k && inputs.length > 1)"}],staticClass:"fas fa-minus-circle",on:{click:function(t){return e.remove(a)}}}),i("br"),i("i",{directives:[{name:"show",rawName:"v-show",value:a==e.inputs.length-1,expression:"k == inputs.length - 1"}],staticClass:"fas fa-plus-circle",staticStyle:{width:"50px"},on:{click:function(t){return e.add(a)}}})])])],1)})),i("br"),i("b-row",[i("b-col",[i("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Verified BY")]),i("b-form-select",{staticClass:"form-control",attrs:{options:e.checkerListNames},on:{change:e.getCheckerId},model:{value:e.verifiedby,callback:function(t){e.verifiedby="string"===typeof t?t.trim():t},expression:"verifiedby"}})],1),i("b-col")],1),i("b-row",[i("b-col",[i("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Dispatched BY")]),i("multiselect",{attrs:{multiple:!0,options:e.dispatcherListNames},on:{input:e.getdispatchid},model:{value:e.dispatchedby,callback:function(t){e.dispatchedby=t},expression:"dispatchedby"}})],1),i("b-col")],1),i("br"),i("button",{staticClass:"btn btn-custome float-right btn-secondary mb-3",attrs:{type:"submit"}},[e._v("Submit")])],2)])])])])],1)],1)},n=[],s=(i("96cf"),i("1da1")),c=i("ade3"),u=i("2b0e"),o=i("c2a4"),l=i("444f"),d=i("2579"),p=(i("323e"),i("fea2")),m=i("859b"),h=i("8e5f"),f=i.n(h),b=i("c1df"),v=i.n(b),g=i("6bf2");u["default"].component("multiselect",f.a);var y={page:{title:"Edit Servicerequest Equipment",meta:[{name:"description",content:o.description}]},data:function(){var e;return e={inputs:[{name:""}],items:[{text:"Servicerequests",href:"/"},{text:"Servicerequest Equipment",href:"#/Servicerequest/Equipment"},{text:"Edit SR Equipment",active:!0}],areadata:[],areaarray:"",routedate:[],routearray:[],emp:[],controlno:"",area:"",route:"",driver:"",contractor:"",collector:null,lgu:"",plate:"",plates:[],body:"",tripDate:"",trucktype:"",driverid:"",startTime:"",drivers:[],helpers:[],vehicles:[],servingAreas:[]},Object(c["a"])(e,"route",""),Object(c["a"])(e,"driver",""),Object(c["a"])(e,"helper",null),Object(c["a"])(e,"servingRoutes",[]),Object(c["a"])(e,"driverList",[]),Object(c["a"])(e,"checkerListNames",[]),Object(c["a"])(e,"hauler",""),Object(c["a"])(e,"haulerList",[]),Object(c["a"])(e,"contractorList",[]),Object(c["a"])(e,"paleroList",[]),Object(c["a"])(e,"garbage",null),Object(c["a"])(e,"lgu",null),Object(c["a"])(e,"equip",[]),Object(c["a"])(e,"equipments",[]),Object(c["a"])(e,"equipmentused",""),Object(c["a"])(e,"drivertimein",""),Object(c["a"])(e,"distancekms",""),Object(c["a"])(e,"equipmentarray",[]),Object(c["a"])(e,"verifiedby",""),Object(c["a"])(e,"dispatchedby",""),Object(c["a"])(e,"inputs",[{timeIn:"",timeOut:"",duration:"",bucketLoaded:""}]),Object(c["a"])(e,"loginlguid",""),Object(c["a"])(e,"checkerList",[]),Object(c["a"])(e,"dispatcherListNames",[]),Object(c["a"])(e,"dispatcherlist",[]),Object(c["a"])(e,"dispatchId",""),Object(c["a"])(e,"checkerId",""),e},components:{Layout:l["a"],PageHeader:d["a"],VueTimepicker:p["a"],Multiselect:f.a,datetime:m["Datetime"]},computed:{getUserDetails:function(){return this.$store.getters["auth/loggedInDetails"]}},mounted:function(){this.tripDate=v()(new Date).format("DD-MM-YYYY"),this.drivertimein=new Date,console.log(this.tripDate+" "+this.startTime),this.getLgu(),this.getequipments(),this.getvolume(),this.getvolume1()},methods:(a={getLgu:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=JSON.parse(localStorage.getItem("auth.currentUser")),this.loginlguid=t.lguemployee.lguId,this.dispatcherid=t.lguemployee.id,this.dispatchername=t.lguemployee.firstName;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getvolume:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="VOLUME_CHECKER",e.next=4,Object(g["yc"])(this.loginlguid,t);case 4:i=e.sent,this.checkerList=i.data.response.result,this.checkerList.map((function(e){a.checkerListNames.push(e.userName)})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getvolume1:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="ENCODER",e.next=4,Object(g["yc"])(this.loginlguid,t);case 4:i=e.sent,this.dispatcherlist=i.data.response.result,this.dispatcherlist.map((function(e){a.dispatcherListNames.push(e.userName)})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),add:function(){this.inputs.push({timeIn:"",timeOut:"",duration:"",bucketLoaded:""}),console.log(this.inputs)},remove:function(e){this.inputs.splice(e,1)},getequipments:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["ec"])();case 2:t=e.sent,this.equipments=t.data.response.equipment,this.equipments.map((function(e){i.equip.push(e.equipmentNo)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getequipCode:function(){var e=this;console.log("hai",this.equipmentused),this.equipmentarray=[];for(var t=0;t<this.equipmentused.length;t++)this.equipments.map((function(i){e.equipmentused[t]===i.equipmentNo&&(e.equipmentarray.push({equipment:i.id}),console.log("routedata",e.equipmentarray))}))},getCheckerId:function(){var e=this;this.checkerList.map((function(t){e.verifiedby==t.userName&&(e.checkerId=t.id)}))},getdispatchid:function(){var e=this;this.dispatcherlist.map((function(t){e.dispatchedby==t.userName&&(e.dispatchId=t.id)}))},update:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("second"),e.prev=1,t={serviceTicketEquipementReport:this.inputs,totaldistance:this.distancekms,driverTimeIn:this.drivertimein,dispatcherBy:this.dispatchId,verifiedBY:this.checkerId},e.next=5,Object(g["z"])(this.$route.params.id,t);case 5:i=e.sent,i&&(this.$swal({group:"alert",type:"success",text:"Updated Service request Equipment",duration:5e3}),this.$router.push({path:"/Servicerequest/Truck"})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),getTruckType:function(){var e=this;this.vehicles.map((function(t){t.plateNo==e.plate&&(e.trucktype=t.vehicleType.code,e.body=t.vehicleNo)}))}},Object(c["a"])(a,"add",(function(e){this.inputs.length<=4&&this.inputs.push({name:""})})),Object(c["a"])(a,"remove",(function(e){this.inputs.splice(e,1)})),a)},k=y,x=(i("60bc"),i("7809"),i("f257"),i("2877")),O=Object(x["a"])(k,r,n,!1,null,"6d7307be",null);t["default"]=O.exports},f257:function(e,t,i){"use strict";var a=i("c999"),r=i.n(a);r.a}}]);
//# sourceMappingURL=chunk-fb09ca22-legacy.c81147c6.js.map