{"version":3,"sources":["webpack:///./src/router/views/pages/Payrol/redcard.vue?e464","webpack:///src/router/views/pages/Payrol/redcard.vue","webpack:///./src/router/views/pages/Payrol/redcard.vue?c2e9","webpack:///./src/router/views/pages/Payrol/redcard.vue","webpack:///./src/router/views/pages/Payrol/redcard.vue?9208","webpack:///./src/router/views/pages/Payrol/redcard.vue?85f4"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","items","staticClass","on","$event","$router","push","path","_v","ref","dark","hover","striped","bordered","filter","currentPage","perPage","small","fixed","RedcardColumns","item","scopedSlots","_u","key","fn","data","editRedcard","deleteRedcard","row","_id","RedcardMap","allRedcard","selectedOption","id","addRedcardToRole","model","value","callback","$$v","RedcardModal","expression","slot","_s","header","Redcard","methods","handleEdit","clearModal","staticStyle","staticRenderFns","page","title","meta","components","Layout","PageHeader","Multiselect","ValidationProvider","ValidationObserver","ModelSelect","plandata","amount","submitted","finalModel","selected","clientId","options","text","form","personalTitle","firstName","middleName","lastName","gender","email","number","address","state","country","postCode","stbNumber","bouquets","voucherNo","titles","vouchernumber","genderOpt","RedcardOpt","bouquetsOpt","clientTemplete","computed","$store","getters","getClientDetails","getplans","name","refToValidate","$refs","validate","isValid","Object","assign","addressNo","countryCode","addressType","deviceId","planCode","component"],"mappings":"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","file":"js/chunk-b607fb7e.fba59fe9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('PageHeader',{attrs:{\"items\":_vm.items}}),_c('div',{staticClass:\"animated fadeIn\"},[_c('b-card',{staticClass:\"mt-10 ml-10 mr-10 mx-auto\",attrs:{\"header\":\"Redcard\"}},[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('b-button',{staticClass:\"btn btn-custome float-right btn-secondary mb-3\",attrs:{\"text\":\"Create Tenant\"},on:{\"click\":function($event){return _vm.$router.push({ path: '/create' })}}},[_vm._v(\"Create Redcard\")])],1),_c('div',{staticClass:\"mt-3\"},[_c('b-table',{ref:\"roles\",staticClass:\"mt-3\",attrs:{\"id\":\"my-table\",\"dark\":_vm.dark,\"hover\":_vm.hover,\"striped\":_vm.striped,\"bordered\":_vm.bordered,\"filter\":_vm.filter,\"responsive\":true,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"thead-class\":\"header\",\"small\":_vm.small,\"fixed\":_vm.fixed,\"fields\":_vm.RedcardColumns,\"items\":_vm.item},scopedSlots:_vm._u([{key:\"actions\",fn:function(data){return [_c('span',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.editRedcard(data)}}},[_c('i',{staticClass:\"fas fa-pencil-alt edit\"})]),_c('span',{on:{\"click\":function($event){return _vm.deleteRedcard(data)}}},[_c('i',{staticClass:\"fa fa-times edit\"})])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',{staticClass:\"role-details\"},[_c('div',[_c('multiselect',{attrs:{\"id\":row.item._id,\"value\":_vm.RedcardMap[row.item._id],\"options\":_vm.allRedcard,\"label\":\"Redcard\",\"track-by\":\"Redcard\",\"multiple\":true},on:{\"select\":function (selectedOption, id) { return _vm.addRedcardToRole(selectedOption, id, row); }}})],1)])]}}])}),_c('b-modal',{attrs:{\"id\":\"roleModal\"},model:{value:(_vm.RedcardModal),callback:function ($$v) {_vm.RedcardModal=$$v},expression:\"RedcardModal\"}},[_c('div',{attrs:{\"slot\":\"modal-header\"},slot:\"modal-header\"},[_vm._v(_vm._s(_vm.header))]),_c('div',[_c('b-input',{model:{value:(_vm.Redcard),callback:function ($$v) {_vm.Redcard=$$v},expression:\"Redcard\"}}),_c('b-input',{staticClass:\"mt-2\",model:{value:(_vm.Redcard),callback:function ($$v) {_vm.Redcard=$$v},expression:\"Redcard\"}}),_c('multiselect',{staticClass:\"perm_input\",attrs:{\"options\":_vm.methods,\"placeholder\":\"Select a Method\",\"label\":\"value\",\"track-by\":\"value\",\"multiple\":false},model:{value:(_vm.Redcard),callback:function ($$v) {_vm.Redcard=$$v},expression:\"Redcard\"}})],1),_c('div',{attrs:{\"slot\":\"modal-footer\"},slot:\"modal-footer\"},[_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.handleEdit}},[_vm._v(\"Submit\")]),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"secondary\"},on:{\"click\":_vm.clearModal}},[_vm._v(\"Cancel\")])],1)]),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('b-pagination',{attrs:{\"per-page\":_vm.perPage,\"total-rows\":_vm.Redcard,\"aria-controls\":\"my-table\",\"hide-goto-end-buttons\":\"\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport appConfig from '@src/app.config'\nimport Layout from '@layouts/main'\nimport PageHeader from '@components/page-header'\nimport Multiselect from 'vue-multiselect'\nimport { ModelSelect } from 'vue-search-select'\nimport {\n  ValidationProvider,\n  ValidationObserver,\n} from 'vee-validate/dist/vee-validate.full'\nimport {\n  registerTemplete,\n  RedcardTemplete,\n  simpleactivation,\n  editcustomer,\n  plans,\n  planprice,\n  searchvoucher,\n  redeem,\n} from '../../../../services/auth'\n\nexport default {\n  page: {\n    title: 'Redcard',\n    meta: [{ name: 'description', content: appConfig.description }],\n  },\n  components: {\n    Layout,\n    PageHeader,\n    Multiselect,\n    ValidationProvider,\n    ValidationObserver,\n    ModelSelect,\n  },\n  data() {\n    return {\n      plandata: '',\n      striped: false,\n      bordered: true,\n      filter: '',\n      perPage: 10,\n      hover: true,\n      currentPage: 1,\n      small: false,\n      dark: false,\n      fixed: false,\n      amount: '',\n      submitted: false,\n      title: 'Register',\n      item: { key: 'resource', value: 'Frozen Yogurt', name: '159' },\n\n      RedcardColumns: [\n        {\n          key: 'resource',\n\n          label: 'Resource',\n        },\n        {\n          key: 'name',\n          label: 'Redcard',\n        },\n\n        {\n          key: 'actions',\n          sortable: true,\n        },\n      ],\n      items: [\n        {\n          text: 'Home',\n          href: '/',\n        },\n        {\n          text: 'Redcard',\n          active: true,\n        },\n      ],\n      finalModel: {},\n      selected: null,\n      clientId: '',\n      options: ['DAF'],\n      item: {\n        value: '',\n        text: '',\n      },\n      form: {\n        personalTitle: '',\n        firstName: '',\n        middleName: '',\n        lastName: '',\n        gender: '',\n        email: '',\n        number: '',\n        address: '',\n        Redcard: '',\n        state: '',\n        country: '',\n        postCode: '',\n        stbNumber: '',\n        bouquets: null,\n        amount: 0,\n        voucherNo: '',\n      },\n      titles: ['Mr.', 'Sri.', 'Mrs'],\n      vouchernumber: '',\n      genderOpt: ['Male', 'Female', 'Other'],\n      RedcardOpt: [],\n      bouquetsOpt: [\n        { value: null, text: 'Please select an option' },\n        'FTA  AND STARTER',\n      ],\n      clientTemplete: {},\n    }\n  },\n  computed: {\n    getUserDetails() {\n      return this.$store.getters['auth/loggedInDetails']\n    },\n  },\n  mounted() {\n    this.getClientDetails()\n    this.getplans()\n  },\n  methods: {\n    async makeredeem() {\n      try {\n        const payload = {\n          pinNumber: this.vouchernumber,\n          clientId: this.clientId,\n        }\n        let result = await redeem(payload)\n        if (result) {\n          this.$swal({\n            group: 'alert',\n            type: 'success',\n            text: `Your Redeemption Done Successfully`,\n            duration: 5000,\n          })\n          this.refresh()\n        }\n      } catch (e) {\n        this.$toasted.error(e.message.errors[0].developerMessage, {\n          duration: 7000,\n        })\n      }\n    },\n    async myFunction() {\n      if (this.vouchernumber.length === 18) {\n        const result = await searchvoucher(this.vouchernumber)\n        var CId = result.data\n\n        console.log(CId)\n        if (CId < 5) {\n          this.$notify({\n            group: 'alert',\n            type: 'error',\n            text: `invalid voucher id`,\n            duration: 5000,\n          })\n          this.submitted = true\n        } else {\n          this.submitted = false\n        }\n      }\n    },\n    async getplanprices() {\n      console.log('hai', this.amount)\n      this.amount = 311\n    },\n\n    async getplans() {\n      const result = await plans()\n      this.plandata = result.data\n      this.plandata.map((e) => {\n        this.options.push(e.planCode)\n      })\n      // console.log(this.clientTemplete)\n    },\n    async getplanprice() {\n      if (this.selected !== null) {\n        this.amount = '311'\n      }\n      // console.log(\"planmdata\",this.plandata)\n      var id = ''\n      if (this.selected !== null) {\n        this.plandata.map((e) => {\n          if (this.selected === e.planCode) {\n            id = e.id\n          }\n        })\n        console.log('id', id)\n        const result = await planprice(id)\n        // this.amount = result.data.pricingData[0].price\n\n        // console.log(\"amount\",amount)\n      }\n      //      plan.map((e) => {\n      //   this.options.push(e.planCode)\n      // })\n      // console.log(this.clientTemplete)\n    },\n    validateStep(name) {\n      var refToValidate = this.$refs[name]\n      return refToValidate.validate()\n    },\n    mergePartialModels(model, isValid) {\n      if (isValid) {\n        // merging each step model into the final model\n        this.finalModel = Object.assign({}, this.finalModel, model)\n      }\n    },\n    async getClientDetails() {\n      const result = await registerTemplete()\n      this.clientTemplete = result.data\n      this.RedcardOpt = this.clientTemplete.addressTemplateData.RedcardData\n      console.log(this.clientTemplete)\n    },\n    async changeRedcard(value) {\n      console.log(value)\n      const result = await RedcardTemplete(value)\n      this.form.state = result.data.state\n      this.form.country = result.data.country\n    },\n    bouquetsChange(value) {\n      if (value === 'DAFT') {\n        this.form.amount = 1500\n      } else {\n        this.form.amount = 1500\n      }\n    },\n    async register() {\n      this.submitted = true\n      // if(this.form.firstName && this.form.lastName && this.form.number && this.form.address){\n      try {\n        const payload = {\n          forename: this.form.firstName,\n          surname: this.form.lastName,\n          gender: 'male',\n          email: this.form.email,\n          mobile: this.form.number,\n          dob: '12101990',\n          officeId: this.getUserDetails.officeId,\n          // officeId: 2,\n          address: [\n            {\n              addressNo: this.form.address,\n              state: this.form.state,\n              country: this.form.country,\n              Redcard: this.form.Redcard,\n              postCode: this.form.postCode,\n              countryCode: 'NGA',\n              addressType: 'PRIMARY',\n            },\n            {\n              addressNo: this.form.address,\n              state: this.form.state,\n              country: this.form.country,\n              Redcard: this.form.Redcard,\n              postCode: this.form.postCode,\n              countryCode: 'NGA',\n              addressType: 'BILLING',\n            },\n          ],\n          devices: [\n            {\n              deviceId: this.form.stbNumber,\n            },\n          ],\n          plans: [\n            {\n              planCode: 'STARTER',\n            },\n            {\n              planCode: 'FTA',\n            },\n          ],\n          credentails: {\n            username: this.form.stbNumber,\n            password: 'paywd@123',\n          },\n          refId: '12233333',\n          IsVerified: 'NO',\n          // paymentInfo: {\n          //   paymentMethodID: 'VOUCHER',\n          //   voucherCodes: {\n          //     voucherCode: this.form.voucherNo,\n          //   },\n          // },\n          valid: true,\n          salutation: this.form.personalTitle,\n          // middlename: this.form.middleName,\n        }\n        console.log('form', payload)\n        // debugger\n        const result = await simpleactivation(payload)\n        this.clientId = result.data.clientId\n        if (result) {\n          this.form = {}\n          this.$swal({\n            group: 'alert',\n            type: 'success',\n            text: `Your Customer Registeration Done Successfully`,\n            duration: 5000,\n          })\n          this.makeredeem()\n        }\n        this.submitted = false\n      } catch (e) {\n        this.$notify({\n          group: 'alert',\n          type: 'error',\n          text: `${e.message.errors[0].defaultUserMessage}`,\n          duration: 5000,\n        })\n      }\n\n      // }\n      // else\n      // {\n      //    this.$notify({\n      //   group: \"alert\",\n      //   type: \"error\",\n      //   text: `You fill Data`,\n      //   duration: 5000,\n      // });\n      // }\n    },\n    async refresh() {\n      setTimeout(function () {\n        location.reload()\n      }, 200)\n    },\n  },\n}\n</script>\n\n<template>\n  <Layout>\n    <PageHeader :items=\"items\" />\n\n    <div class=\"animated fadeIn\">\n      <b-card\n        header=\"Redcard\"\n\n        class=\"mt-10 ml-10 mr-10 mx-auto\"\n      >\n        <b-col md=\"12\">\n          <b-button\n            class=\"btn btn-custome float-right btn-secondary mb-3\"\n            text=\"Create Tenant\"\n            @click=\"$router.push({ path: '/create' })\"\n            >Create Redcard</b-button\n          >\n        </b-col>\n        <div class=\"mt-3\">\n          <b-table\n            id=\"my-table\"\n            :dark=\"dark\"\n            :hover=\"hover\"\n            :striped=\"striped\"\n            :bordered=\"bordered\"\n            ref=\"roles\"\n            :filter=\"filter\"\n            :responsive=\"true\"\n            :current-page=\"currentPage\"\n            :per-page=\"perPage\"\n            thead-class=\"header\"\n            :small=\"small\"\n            :fixed=\"fixed\"\n            :fields=\"RedcardColumns\"\n            :items=\"item\"\n            class=\"mt-3\"\n          >\n            <template slot=\"actions\" slot-scope=\"data\">\n              <span class=\"mr-2\" @click=\"editRedcard(data)\">\n                 <i class=\"fas fa-pencil-alt edit\"></i>\n                </span>\n                <span  @click=\"deleteRedcard(data)\">\n                 <i class=\"fa fa-times edit\"></i>\n                </span>\n              <!-- <b-button size=\"sm\" class=\"mr-2\" variant=\"html5 icon\" @click=\"deleteRedcard(data)\">\n              <i class=\"fa fa-times\"></i>\n            </b-button>\n            <b-button size=\"sm\" class=\"mr-2\" variant=\"facebook\" @click=\"editRedcard(data)\">\n              <i class=\"fa fa-pencil\"></i>\n            </b-button>-->\n            </template>\n            <template slot=\"row-details\" slot-scope=\"row\">\n              <b-card class=\"role-details\">\n                <div>\n                  <multiselect\n                    :id=\"row.item._id\"\n                    :value=\"RedcardMap[row.item._id]\"\n                    :options=\"allRedcard\"\n                    label=\"Redcard\"\n                    track-by=\"Redcard\"\n                    :multiple=\"true\"\n                    @select=\"\n                      (selectedOption, id) =>\n                        addRedcardToRole(selectedOption, id, row)\n                    \"\n                  ></multiselect>\n                </div>\n              </b-card>\n            </template>\n          </b-table>\n\n          <b-modal id=\"roleModal\" v-model=\"RedcardModal\">\n            <div slot=\"modal-header\">{{ header }}</div>\n            <div>\n              <b-input v-model=\"Redcard\" />\n\n              <b-input v-model=\"Redcard\" class=\"mt-2\" />\n\n              <multiselect\n                v-model=\"Redcard\"\n                class=\"perm_input\"\n                :options=\"methods\"\n                placeholder=\"Select a Method\"\n                label=\"value\"\n                track-by=\"value\"\n                :multiple=\"false\"\n              ></multiselect>\n            </div>\n            <div slot=\"modal-footer\">\n              <b-button variant=\"primary\" @click=\"handleEdit\">Submit</b-button>\n\n              <b-button class=\"ml-2\" variant=\"secondary\" @click=\"clearModal\"\n                >Cancel</b-button\n              >\n            </div>\n          </b-modal>\n          <div style=\"float: right\">\n            <b-pagination\n              v-model=\"currentPage\"\n              :per-page=\"perPage\"\n              :total-rows=\"Redcard\"\n              aria-controls=\"my-table\"\n              hide-goto-end-buttons\n            ></b-pagination>\n          </div>\n        </div>\n      </b-card>\n    </div>\n    <!-- end row -->\n  </Layout>\n</template>\n<style lang=\"sass\" scoped>\n.edit\n  color: #a7a7a7 !important\n.text-center\n  text-align: center\n.form-div label\n  margin-top: 8px\n</style>\n<style lang=\"sass\" scoped>\n.card-wrap\n  box-shadow: 0 0 10px #ccc\n  .role-details\n    margin: 10px\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redcard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redcard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./redcard.vue?vue&type=template&id=08d04fa7&scoped=true&\"\nimport script from \"./redcard.vue?vue&type=script&lang=js&\"\nexport * from \"./redcard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./redcard.vue?vue&type=style&index=0&id=08d04fa7&lang=sass&scoped=true&\"\nimport style1 from \"./redcard.vue?vue&type=style&index=1&id=08d04fa7&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d04fa7\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redcard.vue?vue&type=style&index=1&id=08d04fa7&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redcard.vue?vue&type=style&index=1&id=08d04fa7&lang=sass&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redcard.vue?vue&type=style&index=0&id=08d04fa7&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./redcard.vue?vue&type=style&index=0&id=08d04fa7&lang=sass&scoped=true&\""],"sourceRoot":""}