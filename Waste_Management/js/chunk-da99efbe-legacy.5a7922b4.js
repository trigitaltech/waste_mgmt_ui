(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da99efbe"],{"17ab":function(e,t,a){},a02e:function(e,t,a){},b4b5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("PageHeader"),a("div",{staticClass:"animated"},[a("b-card",{staticClass:"mt-10 ml-10 mr-10 mx-auto",attrs:{header:"Create Landfill Trip"}},[a("div",{staticClass:"mt-1"},[a("div",{staticClass:"mx-xl-5"},[a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.create(t)}}},[a("b-row",[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("LGU")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginDetails.name,expression:"loginDetails.name"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.loginDetails.name},on:{input:function(t){t.target.composing||e.$set(e.loginDetails,"name",t.target.value)}}})]),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Baranggay")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.servingAreas},on:{change:e.getRoutes},model:{value:e.area,callback:function(t){e.area="string"===typeof t?t.trim():t},expression:"area"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Serving Route")]),a("multiselect",{attrs:{multiple:!0,options:e.servingRoutes},on:{change:e.getRouteCode},model:{value:e.route,callback:function(t){e.route=t},expression:"route"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("CONTROL NO")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.controlno,expression:"controlno"}],staticClass:"form-control",attrs:{name:"body"},domProps:{value:e.controlno},on:{input:function(t){t.target.composing||(e.controlno=t.target.value)}}})])],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Trip Date")]),a("datetime",{attrs:{format:{year:"numeric",month:"numeric",day:"numeric"},type:"date",placeholder:"SELECT Date"},model:{value:e.tripDate,callback:function(t){e.tripDate=t},expression:"tripDate"}})],1),a("b-col",{staticClass:"ml-3"},[a("label",{staticClass:"grey-text font-weight-dark mr-2",attrs:{for:"defaultFormCardtextEx"}},[e._v("Trip Start Time")]),a("datetime",{attrs:{format:{hour:"numeric",minute:"2-digit"},type:"datetime",placeholder:"SELECT Time"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Hauler")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.haulerListNames},on:{change:e.getVehiclesDriversHelpers},model:{value:e.hauler,callback:function(t){e.hauler=t},expression:"hauler"}})],1),a("b-col")],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Plate No")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.plates},on:{change:e.getTruckType},model:{value:e.plate,callback:function(t){e.plate=t},expression:"plate"}})],1),a("b-col",{staticClass:"ml-4"},[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Truck Type")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.trucktype,expression:"trucktype"}],staticClass:"form-control",attrs:{name:"trucktype",readonly:""},domProps:{value:e.trucktype},on:{input:function(t){t.target.composing||(e.trucktype=t.target.value)}}})])],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardNameEx"}},[e._v("Body")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.body,expression:"body"}],staticClass:"form-control",attrs:{name:"body",readonly:""},domProps:{value:e.body},on:{input:function(t){t.target.composing||(e.body=t.target.value)}}})]),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Driver Name")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.drivers},on:{change:e.getid},model:{value:e.driver,callback:function(t){e.driver="string"===typeof t?t.trim():t},expression:"driver"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Helper")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.helpers},on:{change:e.gethelperid},model:{value:e.helper,callback:function(t){e.helper="string"===typeof t?t.trim():t},expression:"helper"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Garbage Collectors")]),a("multiselect",{attrs:{multiple:!0,options:e.collectorListNames},model:{value:e.collector,callback:function(t){e.collector=t},expression:"collector"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Volume Checker")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.checkerListNames},on:{change:e.getCheckerId},model:{value:e.checker,callback:function(t){e.checker="string"===typeof t?t.trim():t},expression:"checker"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Control Checker")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.controlListNames},on:{change:e.getControlId},model:{value:e.control,callback:function(t){e.control="string"===typeof t?t.trim():t},expression:"control"}})],1)],1),a("b-row",{staticClass:"mt-3"},[a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Staging Area")]),a("b-form-select",{staticClass:"form-control",attrs:{options:e.stagingAreaNames},on:{change:e.getDumpingLocation},model:{value:e.staging,callback:function(t){e.staging="string"===typeof t?t.trim():t},expression:"staging"}})],1),a("b-col",[a("label",{staticClass:"grey-text font-weight-dark",attrs:{for:"defaultFormCardtextEx"}},[e._v("Dumping Location")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dumping,expression:"dumping"}],staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.dumping},on:{input:function(t){t.target.composing||(e.dumping=t.target.value)}}})])],1),a("button",{staticClass:"btn float-right btn-secondary mt-3 mr-2",attrs:{type:"submit"}},[e._v("Submit")])],1)])])])])],1)],1)},n=[],s=(a("7f7f"),a("96cf"),a("1da1")),o=a("ade3"),i=a("2b0e"),c=a("c2a4"),l=a("444f"),u=a("2579"),p=(a("323e"),a("fea2")),m=a("859b"),h=a("8e5f"),d=a.n(h),g=(a("c1df"),a("6bf2"));i["default"].component("multiselect",d.a);var f={page:{title:"Trip Incoming Details",meta:[{name:"description",content:c.description}]},data:function(){var e;return e={inputs:[{name:""}],areadata:[],areaarray:"",routedate:[],routearray:[],emp:[],code:null,controlno:"",area:"",route:"",driver:"",contractor:"",collector:"",lgu:"lgu1",plate:"",plates:[],body:"",tripDate:"",trucktype:"",driverid:"",helperid:"",haulerId:"",checkerId:"",startTime:"",drivers:[],helpers:[],vehicles:[],servingAreas:[]},Object(o["a"])(e,"route",""),Object(o["a"])(e,"driver",""),Object(o["a"])(e,"helper",null),Object(o["a"])(e,"servingRoutes",[]),Object(o["a"])(e,"driverList",[]),Object(o["a"])(e,"checkerList",[]),Object(o["a"])(e,"checkerListNames",[]),Object(o["a"])(e,"checker",""),Object(o["a"])(e,"control",""),Object(o["a"])(e,"controlListNames",[]),Object(o["a"])(e,"hauler",""),Object(o["a"])(e,"haulerCode",""),Object(o["a"])(e,"haulerList",[]),Object(o["a"])(e,"haulerListNames",[]),Object(o["a"])(e,"collectorList",[]),Object(o["a"])(e,"collectorListNames",[]),Object(o["a"])(e,"stagingAreas",[]),Object(o["a"])(e,"stagingAreaNames",[]),Object(o["a"])(e,"staging",""),Object(o["a"])(e,"dumping",""),Object(o["a"])(e,"dumpingLocations",[]),Object(o["a"])(e,"dumpingLocationNames",[]),Object(o["a"])(e,"paleroList",[]),Object(o["a"])(e,"garbage",null),Object(o["a"])(e,"areaId",null),Object(o["a"])(e,"routeId",null),Object(o["a"])(e,"garbageCollectors",[]),Object(o["a"])(e,"brgy",{}),Object(o["a"])(e,"routeCodes",[]),Object(o["a"])(e,"loginDetails",{}),Object(o["a"])(e,"baranggayId",null),Object(o["a"])(e,"totalCapacity",null),Object(o["a"])(e,"stagingAreaId",null),Object(o["a"])(e,"dumpingLocationId",null),Object(o["a"])(e,"controlCheckerId",null),Object(o["a"])(e,"controlCheckerName",""),e},components:{Layout:l["a"],PageHeader:u["a"],VueTimepicker:p["a"],Multiselect:d.a,datetime:m["Datetime"]},computed:{getUserDetails:function(){return this.$store.getters["auth/loggedInDetails"]}},mounted:function(){console.log(this.tripDate+" "+this.startTime),this.getLgu(),this.getBaraggay(),this.getUsers()},methods:{getLgu:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("auth.currentUser")),this.loginlguid=t.lguemployee.lguId,this.contractorDispatcherId=t.lguemployee.id,this.contractorDispatcherName=t.lguemployee.userName,e.next=6,Object(g["lc"])(this.loginlguid);case 6:a=e.sent,this.loginDetails.name=a.data.response.result.lguName;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBaraggay:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["hc"])(this.loginlguid);case 3:t=e.sent,this.areadata=t.data.response.result,this.areadata.map((function(e){a.servingAreas.push(e.areaName)})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getUsers:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["cc"])();case 3:t=e.sent,this.collectorList=t.data.response.result,console.log(this.collectorList),this.collectorList.map((function(e){"PALERO"==e.type&&a.collectorListNames.push(e.userName)})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getVehiclesDriversHelpers:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{this.haulerList.map((function(e){t.hauler==e.haulerName&&(t.haulerId=e.id,t.haulerCode=e.code)})),this.haulerList.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.hauler!=a.haulerName){e.next=6;break}return e.next=3,Object(g["Xc"])();case 3:r=e.sent,t.vehicles=r.data.response.vehicles,t.vehicles.map((function(e){e.haulerId==t.haulerId&&t.plates.push(e.plateNo)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.employeedata()}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),gethaulers:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["Bc"])();case 3:t=e.sent,console.log(t),this.haulerList=t.data.response.HaulerMaster,this.haulerList.map((function(e){e.baranggayId==a.baranggayId&&a.haulerListNames.push(e.haulerName)})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getRoutes:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{console.log("1"),this.areadata.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.area!=a.areaName){e.next=17;break}return t.areaId=a.id,e.next=4,Object(g["mc"])(a.id);case 4:return r=e.sent,t.baranggayId=a.id,console.log(t.baranggayId),t.routedata=r.data.response.result.routeMaster,t.routedata.length>0&&t.routedata.map((function(e){null!=e.routeName&&t.servingRoutes.push(e.routeName)})),e.next=11,Object(g["Ec"])();case 11:n=e.sent,t.checkerList=n.data.response.result,console.log(t.checkerList),t.checkerList.map((function(e){t.loginlguid==e.lguId&&"VOLUME_CHECKER"==e.type&&t.checkerListNames.push(e.userName),t.loginlguid==e.lguId&&"CONTROL_CHECKER"==e.type&&t.controlListNames.push(e.userName)})),t.gethaulers(),t.getStagingArea();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getvehicles:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["Xc"])();case 2:t=e.sent,this.vehicles=t.data.response.vehicles,this.vehicles.map((function(e){a.plates.push(e.plateNo)})),console.log(this.plates);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getareas:function(){var e=this;this.areadata.map((function(t){e.area===t.areaName&&(e.areaarray=t)}))},getid:function(){var e=this;console.log("haiiiiii"),this.emp.map((function(t){e.driver===t.userName&&(e.driverid=t.id)}))},gethelperid:function(){var e=this;this.emp.map((function(t){e.helper==t.userName&&(console.log(t),e.helperid=t.id)})),console.log(this.helperid)},getGarbageCollectors:function(){var e=this;this.collector.map((function(t){e.collectorList.map((function(a){if(t==a.userName){var r={garbageCollectorId:a.id,garbageCollectorName:a.userName};e.garbageCollectors.push(r)}}))}))},gethaulerid:function(){var e=this;this.haulerList.map((function(t){e.hauler==t.userName&&(e.haulerId=t.id)}))},getCheckerId:function(){var e=this;this.checkerList.map((function(t){e.checker==t.userName&&(e.checkerId=t.id)}))},getControlId:function(){var e=this;this.checkerList.map((function(t){e.control==t.userName&&(e.controlId=t.id)}))},employeedata:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["zc"])();case 3:t=e.sent,this.emp=t.data.response.HaulerEmployees,console.log(this.emp),this.emp.map((function(e){null!=e.haulerId&&("DRIVER"==e.type&&e.haulerId==a.haulerId&&a.drivers.push(e.userName),"HELPER"==e.type&&e.haulerId==a.haulerId&&a.helpers.push(e.userName))})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),areas:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Areamasters();case 3:t=e.sent,this.areadata=t.data.response.areaMaster,this.areadata.map((function(e){null!=e.areaName&&a.servingAreas.push(e.areaName)})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:console.log(this.servingAreas);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getRouteCode:function(){console.log(this.route)},routes:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,routemaster();case 3:t=e.sent,console.log(t),this.routedata=t.data.response.RouteMaster,this.routedata.map((function(e){null!=e.routeName&&a.servingRoutes.push(e.routeName)})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),getRouteObject:function(e){this.routedata.map((function(t){if(e==t.routeName)return console.log(t),t}))},getStagingArea:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["Tc"])();case 3:t=e.sent,this.stagingAreas=t.data.response.stagingArea,this.stagingAreas.map((function(e){a.loginlguid==e.lguName.id&&a.stagingAreaNames.push(e.stagingAreaName)})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getDumpingLocation:function(){var e=this;this.stagingAreas.map((function(t){t.stagingAreaName==e.staging&&(e.stagingAreaId=t.id,e.dumpingLocationId=t.dumpingArea.id,e.dumpingLocations.push(t),e.dumpingLocationNames.push(t.dumpingArea.dumpingAreaName),e.dumping=t.dumpingArea.dumpingAreaName)}))},create:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.route.map((function(e){r.routedata.map((function(t){if(e==t.routeName){var a={servingRouteId:t.id};r.routeCodes.push(a)}}))})),this.getGarbageCollectors(),t={controlNo:this.controlno,tripDate:this.tripDate,lguId:this.loginlguid,lguName:this.loginDetails.name,haulerId:this.haulerId,haulerName:this.hauler,bodyNo:this.body,plateNo:this.plate,truckType:this.trucktype,totalCapacity:this.totalCapacity,tripStartTime:this.startTime,baranggayId:this.areaId,stagingAreaId:this.stagingAreaId,dumpingLocationId:this.dumpingLocationId,helperId:this.helperid,helperName:this.helper,driverId:this.driverid,driverName:this.driver,contractorDispatcherId:this.contractorDispatcherId,contractorDispatcherName:this.contractorDispatcherName,contractorDispatcherVerified:1,volumeCheckerName:this.checker,volumeCheckerId:this.checkerId,controlCheckerId:this.controlId,controlCheckerName:this.control,routes:this.routeCodes,collectors:this.garbageCollectors},console.log(t),e.next=7,Object(g["e"])(t);case 7:a=e.sent,a&&(this.$swal({group:"alert",type:"success",text:"Landfill Trip Created",duration:5e3}),this.$router.push({path:"/Encoder"})),e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](0);case 13:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),getTruckType:function(){var e=this;this.vehicles.map((function(t){t.plateNo==e.plate&&(console.log(t),e.trucktype=t.vehicleType.code,e.body=t.vehicleNo,e.totalCapacity=t.volumeCapacity)}))},add:function(e){this.inputs.length<=4&&this.inputs.push({name:""})},remove:function(e){this.inputs.splice(e,1)}}},b=f,v=(a("60bc"),a("bd73"),a("ffda"),a("2877")),x=Object(v["a"])(b,r,n,!1,null,"5c517624",null);t["default"]=x.exports},bd73:function(e,t,a){"use strict";var r=a("17ab"),n=a.n(r);n.a},ffda:function(e,t,a){"use strict";var r=a("a02e"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-da99efbe-legacy.5a7922b4.js.map