{"version":3,"sources":["webpack:///src/router/views/pages/inview/E:/Current Projects/waste_mgmt_ui/src/router/views/pages/inview/E:/Current Projects/waste_mgmt_ui/src/router/views/pages/inview/servicerequesttruck.vue","chunk-4d83cc6a.ebeed8c3.css","webpack:///src/router/views/pages/inview/E:/Current Projects/waste_mgmt_ui/src/router/views/pages/inview/src/router/views/pages/inview/servicerequesttruck.vue"],"names":[],"mappings":"AAoRA,uBACI,uBCnRJ,CDoRA,8BACI,iBClRJ,CDmRA,iCACI,cCjRJ,CDoRA,4BACI,gCAAA,CAAA,wBCjRJ,CDkRA,+BACI,WChRJ,CCmRA,iCACA,sBAAA,CACA,UDhRA","file":"chunk-4d83cc6a.ebeed8c3.css","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.card-wrap\r\n    box-shadow: 0 0 10px #ccc\r\n.role-details\r\n    margin: 10px\r\n",".edit[data-v-891e94c6] {\n  color: #a7a7a7 !important;\n}\n.text-center[data-v-891e94c6] {\n  text-align: center;\n}\n.form-div label[data-v-891e94c6] {\n  margin-top: 8px;\n}\n.card-wrap[data-v-891e94c6] {\n  -webkit-box-shadow: 0 0 10px #ccc;\n          box-shadow: 0 0 10px #ccc;\n}\n.role-details[data-v-891e94c6] {\n  margin: 10px;\n}\n\n.table thead th[data-v-891e94c6] {\r\n  outline: none !important;\r\n  color: black;\n}\r\n\n\n/*# sourceMappingURL=chunk-4d83cc6a.ebeed8c3.css.map*/","<script>\r\nimport appConfig from '@src/app.config'\r\nimport Layout from '@layouts/main'\r\nimport PageHeader from '@components/page-header'\r\nimport Multiselect from 'vue-multiselect'\r\nimport { ModelSelect } from 'vue-search-select'\r\nimport moment from 'moment'\r\nimport {\r\n  ValidationProvider,\r\n  ValidationObserver,\r\n} from 'vee-validate/dist/vee-validate.full'\r\nimport {\r\n  servicetruck,\r\n  deleteservicerequest,\r\n} from '../../../../services/auth'\r\n\r\nexport default {\r\n  page: {\r\n    title: 'Servicerequests Truck',\r\n    meta: [{ name: 'description', content: appConfig.description }],\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    Multiselect,\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n    ModelSelect,\r\n  },\r\n  data() {\r\n    return {\r\n      item: [],\r\n      plandata: '',\r\n      striped: false,\r\n      bordered: true,\r\n      filter: '',\r\n      perPage: 10,\r\n      hover: true,\r\n      currentPage: 1,\r\n      small: false,\r\n      dark: false,\r\n      fixed: false,\r\n      amount: '',\r\n      submitted: false,\r\n      title: 'Register',\r\n      item: { key: 'resource', value: 'Frozen Yogurt', name: '159' },\r\n\r\n      ServicerequestdetailsColumns: [\r\n        {\r\n          key: 'id',\r\n\r\n          label: 'ID',\r\n        },\r\n         {\r\n          key: 'dumpingareaId',\r\n          label: 'DumpingArea',\r\n        },\r\n        {\r\n          key: 'controlNo',\r\n          label: 'ControlNo',\r\n        },\r\n\r\n        {\r\n          key: 'truckType',\r\n          label: 'TruckType',\r\n        },\r\n\r\n       \r\n        {\r\n          key: 'driverName',\r\n          label: 'driverName',\r\n        },\r\n\r\n        {\r\n          key: 'tripDate',\r\n          label: 'TripDate',\r\n        },\r\n        {\r\n          key: 'status',\r\n          label: 'status',\r\n        },\r\n        {\r\n          key: 'actions',\r\n          label: 'actions',\r\n        },\r\n      ],\r\n      items: [\r\n        {\r\n          text: 'Home',\r\n          href: '/',\r\n        },\r\n        {\r\n          text: 'Servicerequests Truck',\r\n          active: true,\r\n        },\r\n      ],\r\n      finalModel: {},\r\n      selected: null,\r\n      clientId: '',\r\n      options: ['DAF'],\r\n      item: {\r\n        value: '',\r\n        text: '',\r\n      },\r\n      form: {\r\n        personalTitle: '',\r\n        firstName: '',\r\n        middleName: '',\r\n        lastName: '',\r\n        gender: '',\r\n        email: '',\r\n        number: '',\r\n        address: '',\r\n        Servicerequestdetails: '',\r\n        state: '',\r\n        country: '',\r\n        postCode: '',\r\n        stbNumber: '',\r\n        bouquets: null,\r\n        amount: 0,\r\n        voucherNo: '',\r\n      },\r\n      titles: ['Mr.', 'Sri.', 'Mrs'],\r\n      vouchernumber: '',\r\n      genderOpt: ['Male', 'Female', 'Other'],\r\n      ServicerequestdetailsOpt: [],\r\n      bouquetsOpt: [\r\n        { value: null, text: 'Please select an option' },\r\n        'FTA  AND STARTER',\r\n      ],\r\n      clientTemplete: {},\r\n    }\r\n  },\r\n  computed: {\r\n    rows() {\r\n      return this.item.length\r\n    },\r\n    getUserDetails() {\r\n      return this.$store.getters['auth/loggedInDetails']\r\n    },\r\n  },\r\n  mounted() {\r\n      this.servicerequest()\r\n  },\r\n  methods: {\r\n    getDate(timeStamp) {\r\n      // debugger\r\n      //  console.log(timeStamp)\r\n      let date\r\n      // if (timeStamp !== undefined){\r\n      // date = timeStamp[0] + '-' + timeStamp[1] + '-' + timeStamp[2]\r\n      return moment(timeStamp).format('DD/MM/YYYY')\r\n      // }\r\n    },\r\n    async deleteReq(data) {\r\n      console.log('data', data.item.id)\r\n      var id = data.item.id\r\n      try {\r\n        const result = await deleteservicerequest(data.item.id)\r\n        if (result) {\r\n          this.$swal({\r\n            group: 'alert',\r\n            type: 'success',\r\n            text: `You Deleted Servicerequest Successfully`,\r\n            duration: 5000,\r\n          })\r\n          //  this.refresh()\r\n        }\r\n      } catch (e) {\r\n        this.$toasted.error(e.message.error, {\r\n          duration: 7000,\r\n        })\r\n      }\r\n    },\r\n    async servicerequest() {\r\n      try {\r\n        const result = await servicetruck()\r\n        this.item = result.data.response.ServiceTicket\r\n      } catch (error) {}\r\n    },\r\n    async refresh() {\r\n      setTimeout(function () {\r\n        location.reload()\r\n      }, 200)\r\n    },\r\n  },\r\n}\r\n</script>\r\n<template>\r\n  <Layout>\r\n    <PageHeader :items=\"items\" />\r\n\r\n    <div class=\"animated fadeIn\">\r\n      <b-card header=\"ServiceRequests Truck\" class=\"mt-10 ml-10 mr-10 mx-auto\">\r\n        <b-row>\r\n          <b-col md=\"3\">\r\n            <b-form-input\r\n              v-model=\"filter\"\r\n              type=\"search\"\r\n              placeholder=\"Search...\"\r\n              class=\"form-control ml-2\"\r\n            ></b-form-input>\r\n          </b-col>\r\n          <b-col md=\"9\">\r\n            <b-button\r\n              class=\"btn btn-custome float-right btn-secondary mb-3\"\r\n              text=\"Create Tenant\"\r\n              @click=\"$router.push({ name: 'CreateSRTruck' })\"\r\n              >Create SR Truck</b-button\r\n            >\r\n          </b-col>\r\n        </b-row>\r\n        <div class=\"mt-3\">\r\n          <b-table\r\n            id=\"my-table\"\r\n            :dark=\"dark\"\r\n            :hover=\"hover\"\r\n            :striped=\"striped\"\r\n            :bordered=\"bordered\"\r\n            ref=\"roles\"\r\n            :filter=\"filter\"\r\n            :responsive=\"true\"\r\n            :current-page=\"currentPage\"\r\n            :per-page=\"perPage\"\r\n            :small=\"small\"\r\n            :fixed=\"fixed\"\r\n            :fields=\"ServicerequestdetailsColumns\"\r\n            :items=\"item\"\r\n            class=\"mt-3\"\r\n            :filter-included-fields=\"filterOn\"\r\n            @filtered=\"onFiltered\"\r\n            ><template v-slot:cell(jobStartTime)=\"data\">\r\n              <div class=\"table-row\">{{ getDate(data.item.jobStartTime) }}</div>\r\n            </template>\r\n            <template v-slot:cell(tripDate)=\"data\">\r\n              <div class=\"table-row\">{{ getDate(data.item.tripDate) }}</div>\r\n            </template>\r\n\r\n            <template v-slot:cell(actions)=\"data\">\r\n              <router-link\r\n                :to=\"{ name: 'ViewserviceTruck', params: data.item }\"\r\n              >\r\n                <span class=\"mr-2\">\r\n                  <i class=\"fa fa-eye edit\"></i>\r\n                </span>\r\n              </router-link>\r\n              <router-link\r\n                :to=\"{ name: 'EditSRTruck', params: data.item }\"\r\n              >\r\n                <span class=\"mr-2\">\r\n                  <i class=\"fas fa-pencil-alt edit\"></i>\r\n                </span>\r\n              </router-link>\r\n              <span @click=\"deleteReq(data)\">\r\n                <i class=\"fa fa-times edit\"></i>\r\n              </span>\r\n            </template>\r\n          </b-table>\r\n          <div style=\"float: right\">\r\n            <b-pagination\r\n              v-model=\"currentPage\"\r\n              :per-page=\"perPage\"\r\n              :total-rows=\"rows\"\r\n              aria-controls=\"my-table\"\r\n              hide-goto-end-buttons\r\n            ></b-pagination>\r\n          </div>\r\n        </div>\r\n      </b-card>\r\n    </div>\r\n    <!-- end row -->\r\n  </Layout>\r\n</template>\r\n\r\n\r\n<style lang=\"sass\" scoped>\r\n.edit\r\n    color: #a7a7a7 !important\r\n.text-center\r\n    text-align: center\r\n.form-div label\r\n    margin-top: 8px\r\n</style>\r\n<style lang=\"sass\" scoped>\r\n.card-wrap\r\n    box-shadow: 0 0 10px #ccc\r\n.role-details\r\n    margin: 10px\r\n</style>\r\n<style scoped>\r\n.table thead th {\r\n  outline: none !important;\r\n  color: black;\r\n}\r\n</style>"]}